{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ARYAA CHOUDHARI\\\\OneDrive\\\\Documents\\\\weather-app-4\\\\src\\\\searchBar.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SearchBar({\n  onLocationChange,\n  onLatChange,\n  onLonChange\n}) {\n  _s();\n  const maxLocations = 5;\n  const [searchLocation, setSearchLocation] = useState(\"\");\n  const [locations, setLocations] = useState(Array(maxLocations));\n  const [recent, setRecent] = useState(Array(maxLocations).fill({\n    name: \"\"\n  }));\n  const [isSearching, setIsSearching] = useState(false);\n  const handleSubmit = event => {\n    event.preventDefault();\n    let button = event.nativeEvent.submitter;\n    let buttonID = button.id;\n    let buttonType = \"Recent\";\n    if (buttonID >= 5) {\n      buttonID -= maxLocations;\n      buttonType = \"New\";\n    }\n    let locationText = \"\";\n    if (buttonType === \"New\") {\n      let city = locations[buttonID]['name'];\n      let state = locations[buttonID]['state'] !== \"\" ? \", \" + locations[buttonID]['state'] : \"\";\n      locationText = city + state;\n    } else if (buttonType === \"Recent\") {\n      locationText = recent[buttonID]['name'];\n    }\n    onLocationChange(locationText);\n    onLatChange(locations[buttonID]['lat']);\n    onLonChange(locations[buttonID]['lon']);\n    setSearchLocation(\"\");\n    setLocations([]);\n    if (buttonType === \"New\") {\n      let lat = locations[buttonID]['lat'];\n      let lon = locations[buttonID]['lon'];\n      let mostRecent = recent[0];\n      let newRecent = [{\n        id: 0,\n        name: locationText,\n        lat: lat,\n        lon: lon\n      }];\n      for (let i = 1; i < maxLocations; i++) {\n        if (i === 1) {\n          newRecent.push({\n            id: 1,\n            ...mostRecent\n          });\n        } else {\n          newRecent.push({\n            id: i + 1,\n            ...recent[i - 1]\n          });\n        }\n      }\n      setRecent(newRecent);\n    }\n  };\n  useEffect(() => {\n    const APIKey = \"137d15d7a9080968e84a1462718ab6e2\";\n    if (searchLocation !== \"\") {\n      setIsSearching(true);\n      fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${searchLocation},GB&limit=10&appid=${APIKey}`).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n      }).then(data => {\n        let locationsLength = maxLocations > data.length ? data.length : maxLocations;\n        let allLocations = [];\n        for (let i = 0; i < locationsLength; i++) {\n          let location = data[i]['name'];\n          let state = data[i]['state'];\n          let lat = data[i]['lat'];\n          let lon = data[i]['lon'];\n          allLocations.push({\n            id: i + maxLocations,\n            name: location,\n            state: state,\n            lat: lat,\n            lon: lon\n          });\n        }\n        setLocations(allLocations);\n      });\n    } else {\n      setIsSearching(false);\n      setLocations([]);\n    }\n  }, [searchLocation]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setSearchLocation(e.target.value),\n        value: searchLocation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onChange: opensearchbar,\n        children: \"\\u2630\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"s\",\n        id: \"mySidebar\",\n        style: {\n          display: \"none\"\n        },\n        children: [locations.length !== 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \" Results \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 44\n        }, this), locations.map(location => {\n          let locationText = location.name + (location.state !== \"\" ? \", \" + location.state : \"\");\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            id: location.id,\n            class: \"search-boxes\",\n            type: \"Submit\",\n            children: [\" \", locationText, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 32\n          }, this);\n        }), isSearching && /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \" Recent \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 33\n        }, this), recent.map(location => {\n          if (isSearching && location.name !== \"\") {\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              id: location.id,\n              class: \"search-boxes\",\n              type: \"Submit\",\n              children: [\" \", location.name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 36\n            }, this);\n          }\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 6\n  }, this);\n}\n_s(SearchBar, \"B1FnlzXkhJ1TEgdVUWxihA3yCtA=\");\n_c = SearchBar;\nfunction opensearchbar() {\n  document.getElementById(\"mySidebar\").style.display = \"block\";\n}\nexport default SearchBar;\nvar _c;\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","SearchBar","onLocationChange","onLatChange","onLonChange","_s","maxLocations","searchLocation","setSearchLocation","locations","setLocations","Array","recent","setRecent","fill","name","isSearching","setIsSearching","handleSubmit","event","preventDefault","button","nativeEvent","submitter","buttonID","id","buttonType","locationText","city","state","lat","lon","mostRecent","newRecent","i","push","APIKey","fetch","then","response","ok","json","data","locationsLength","length","allLocations","location","children","onSubmit","e","onChange","target","value","fileName","_jsxFileName","lineNumber","columnNumber","opensearchbar","class","style","display","map","type","_c","document","getElementById","$RefreshReg$"],"sources":["C:/Users/ARYAA CHOUDHARI/OneDrive/Documents/weather-app-4/src/searchBar.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nfunction SearchBar({onLocationChange, onLatChange, onLonChange}) {\r\n    const maxLocations = 5;\r\n    const [searchLocation, setSearchLocation] = useState(\"\");\r\n    const [locations, setLocations] = useState(Array(maxLocations));\r\n    const [recent, setRecent] = useState(Array(maxLocations).fill({name: \"\"}));\r\n    const [isSearching, setIsSearching] = useState(false);\r\n    \r\n    \r\n  \r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        let button = event.nativeEvent.submitter;\r\n        let buttonID = button.id;\r\n        let buttonType = \"Recent\";\r\n        if (buttonID >= 5) {\r\n            buttonID -= maxLocations;\r\n            buttonType = \"New\"\r\n        }\r\n        let locationText = \"\";\r\n        if (buttonType === \"New\") {\r\n            let city = locations[buttonID]['name'];\r\n            let state = locations[buttonID]['state'] !== \"\" ? \", \" + locations[buttonID]['state'] : \"\";\r\n            locationText = city + state;\r\n        }\r\n        else if (buttonType === \"Recent\") {\r\n            locationText = recent[buttonID]['name'];\r\n        }\r\n        onLocationChange(locationText);\r\n        onLatChange(locations[buttonID]['lat']);\r\n        onLonChange(locations[buttonID]['lon']);\r\n        setSearchLocation(\"\");\r\n        setLocations([]);\r\n        if (buttonType === \"New\") {\r\n            let lat = locations[buttonID]['lat'];\r\n            let lon = locations[buttonID]['lon'];\r\n            let mostRecent = recent[0];\r\n            let newRecent = [{id: 0, name: locationText, lat: lat, lon: lon}];\r\n            for (let i = 1; i < maxLocations; i++) {\r\n                if (i === 1) {\r\n                    newRecent.push({id: 1, ...mostRecent})\r\n                }\r\n                else {\r\n                    newRecent.push({id: i + 1, ...recent[i - 1]});\r\n                }\r\n            }\r\n            setRecent(newRecent)\r\n        }\r\n    }\r\n  \r\n    useEffect(() => {\r\n        const APIKey = \"137d15d7a9080968e84a1462718ab6e2\";\r\n        if (searchLocation !== \"\") {\r\n            setIsSearching(true);\r\n            fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${searchLocation},GB&limit=10&appid=${APIKey}`)\r\n                .then (response => {\r\n                    if (response.ok) {\r\n                        return response.json();\r\n                    }\r\n                })\r\n                .then (data => {\r\n                    let locationsLength = maxLocations > data.length ? data.length : maxLocations;\r\n                    let allLocations = [];\r\n                    for (let i = 0; i < locationsLength; i++) {\r\n                        let location = data[i]['name'];\r\n                        let state = data[i]['state'];\r\n                        let lat = data[i]['lat'];\r\n                        let lon = data[i]['lon'];\r\n                        allLocations.push({id: i + maxLocations, name: location, state: state, lat: lat, lon: lon});\r\n                    }\r\n                    setLocations(allLocations);\r\n                })\r\n        }\r\n        else {\r\n            setIsSearching(false);\r\n            setLocations([]);\r\n        }\r\n    }, [searchLocation])\r\n  \r\n    return (\r\n     <div >\r\n       \r\n\r\n   \r\n       <form onSubmit = {(e) => handleSubmit(e)}>\r\n\r\n            \r\n            <input  onChange = {(e) => setSearchLocation(e.target.value)} value = {searchLocation}></input>\r\n            <button  onChange={opensearchbar}>☰</button>\r\n            <div class = \"s\" id=\"mySidebar\" style={{ display: \"none\" }}>\r\n                {locations.length !== 0 && <h2> Results </h2>}\r\n                {\r\n                    locations.map(location => {\r\n                        let locationText = location.name + (location.state !== \"\" ? \", \" + location.state : \"\");\r\n                        return <button id = {location.id} class = \"search-boxes\" type = \"Submit\"> {locationText} </button>\r\n                    })\r\n                }\r\n                {isSearching && <h2> Recent </h2>}\r\n                {\r\n                    recent.map(location => {\r\n                        if (isSearching && location.name !== \"\") {\r\n                            return <button id = {location.id} class = \"search-boxes\" type = \"Submit\"> {location.name} </button>\r\n                        }\r\n                    })\r\n                }\r\n            </div>\r\n        </form>\r\n        <div>\r\n\r\n        \r\n        \r\n        </div>\r\n    </div>\r\n    \r\n  \r\n  \r\n\r\n\r\n        \r\n    );\r\n   \r\n  }\r\n\r\n  function opensearchbar(){\r\n    document.getElementById(\"mySidebar\").style.display=\"block\";\r\n\r\n    \r\n  }\r\n\r\n  \r\nexport default SearchBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}